import HTMLReactParser from "html-react-parser"
import Image from "next/image"
import React from "react"
import styled from "styled-components"

export default function About({ data: { image, title, firstTitle, firstText, secondTitle, secondText } }) {
  return (
    <Wrapper>
      <div className="container">
        <svg className="first-rune" width="76" height="89" viewBox="0 0 76 89" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1.29573 19.3773C2.05811 18.4015 4.48261 17.5957 3.28566 16.3706C6.6372 16.0256 9.70407 15.7096 13.3095 15.3413C14.0298 16.2498 15.7323 16.5136 18.2769 15.8674C19.0757 15.6672 20.7385 16.1257 20.6627 16.4062C20.2191 18.0022 22.0452 18.1013 23.2774 18.5213C29.4868 20.6192 35.6992 22.7259 42.0866 24.6503C43.3272 25.0233 45.3565 24.5927 47.0084 24.5655C47.8791 24.5512 48.8711 24.4611 49.535 24.6792C51.6562 25.3772 52.7152 29.4251 51.185 31.2414C49.8455 32.826 48.3577 34.4076 46.6782 35.8834C43.5717 38.6166 39.8445 42.6196 38.6935 44.683C44.4641 45.5949 50.1688 46.5538 55.9681 47.3824C58.1026 47.6891 60.4727 47.6802 62.709 47.8542C63.9697 47.9512 65.2291 48.0681 66.4069 48.2815C68.0729 48.5823 68.3818 49.4604 67.5498 50.7586C66.8441 51.8521 66.1884 52.948 65.4826 54.0414C65.2314 54.431 64.6882 54.852 64.6511 55.1975C64.3588 57.8088 61.64 59.7385 58.7142 61.6853C54.1561 64.7197 51.1116 68.3029 48.1037 71.8736C45.7407 74.6752 43.4925 77.5011 41.234 80.3207C40.4597 81.2858 39.8076 82.2728 38.9745 83.4245C38.193 83.3887 37.3792 83.3541 36.348 83.3059C33.7515 84.9 30.9867 86.3608 30.6048 83.1189C26.3797 83.0876 24.4775 81.6194 23.794 78.9066C23.0379 75.9103 21.202 73.2496 19.9769 70.3894C18.3501 66.5948 16.8902 62.7381 15.3146 58.9259C14.319 56.5207 13.1785 54.1701 12.2122 51.7548C10.6164 47.7881 8.88575 43.8577 7.67962 39.7623C7.0773 37.7169 7.58845 35.3145 7.43141 33.1117C7.18994 29.8021 6.89571 26.5056 6.40654 23.2613C6.32002 22.6741 5.34081 22.1087 4.45456 22.006C2.27797 21.7675 1.40366 20.8872 1.29573 19.3773ZM47.4798 57.6027C45.1415 58.3496 45.2101 58.287 43.4971 57.5862C42.3365 57.1123 41.0586 56.6786 39.6418 56.5079C37.0534 56.1901 34.3416 56.0615 31.6516 55.9009C31.0831 55.8656 30.397 56.0369 29.6899 56.1224C29.545 61.4343 32.3166 65.5368 34.6129 69.9001C39.0637 65.6444 43.2929 61.6016 47.4783 57.5983L47.4798 57.6027ZM23.6537 44.1602C26.9088 40.4511 30.068 36.8922 33.1125 33.309C33.4576 32.9069 33.5047 32.1124 33.1407 31.9336C30.6293 30.6937 28.0945 29.4569 25.3059 28.4587C23.7496 27.905 21.6916 27.8217 19.3114 27.4424C19.4413 28.3476 19.4064 28.7952 19.5824 29.1657C20.6653 31.4676 20.4438 34.1183 20.7543 36.6259C21.0909 39.2813 21.1277 42.1127 23.6449 44.1584L23.6537 44.1602Z" fill="#9AACB8" fillOpacity="0.3" />
        </svg>
        <svg className="second-rune" width="48" height="87" viewBox="0 0 48 87" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.6413 1.37052C15.5271 -0.0679687 16.5606 -0.31545 17.9403 0.354812C19.4217 1.07663 20.9745 1.47879 22.4152 2.47387C24.9098 4.19077 25.4036 6.944 26.6306 9.28992C28.9826 13.7961 31.6859 18.0497 34.7151 22.1125C36.6344 24.6905 38.4366 27.3561 40.2591 30.0062C42.209 32.8419 44.113 35.7034 46.0374 38.5597C46.7654 39.6425 47.3662 40.751 46.7451 42.4369C45.8134 42.3029 44.8105 42.2823 43.8839 41.9884C42.8199 41.6533 42.0868 41.8028 41.3893 42.7257C39.3886 45.3758 37.2096 47.8918 35.3107 50.6141C33.427 53.3158 31.8947 56.234 31.1972 59.5441C30.7492 61.6528 29.2219 62.3953 27.104 61.7405C23.744 60.7042 21.1119 58.6367 18.9432 56.0175C19.2385 52.9188 20.4196 50.3563 22.2014 47.9692C24.4465 44.9633 26.4728 41.7873 28.6873 38.7557C30.1179 36.8016 31.8947 35.2136 34.318 34.5124C31.6757 30.6558 29.2066 26.8456 26.5338 23.185C22.344 17.4413 18.989 11.2388 16.2246 4.69089C15.7562 3.58754 15.1962 2.52543 14.6413 1.37052Z" fill="#9AACB8" fillOpacity="0.3" />
          <path d="M14.3766 31.125C16.5657 31.0064 18.6785 30.8621 20.7963 31.62C22.3694 32.1871 23.3775 33.2338 23.9324 34.6826C24.1462 35.2394 23.9629 36.1314 23.6473 36.6882C22.8582 38.0803 21.9062 39.3795 20.9847 40.6891C19.5185 42.7721 18.0115 44.8241 16.5504 46.9071C16.3366 47.2113 16.2857 47.6289 16.1177 47.9744C15.6646 48.9024 15.2217 49.8356 14.7075 50.7328C13.8369 52.2589 12.946 53.7696 12.0144 55.2544C11.4187 56.198 10.7365 57.0848 9.93724 58.2088C10.4158 58.6882 10.9198 59.2812 11.5053 59.771C15.1911 62.8542 18.989 65.7982 22.5578 69.0154C26.0604 72.176 29.3237 75.6098 32.7092 78.9044C33.2183 79.3993 33.7885 79.8531 34.3893 80.2397C36.3544 81.4978 37.2351 83.622 38.4773 85.4523C38.6708 85.7359 38.5893 86.2154 38.6759 86.9991C37.6729 86.7722 36.8278 86.7155 36.0998 86.3907C27.7608 82.6682 20.2872 77.7804 14.5497 70.4075C12.9358 68.3349 10.762 66.7211 8.88341 64.8495C6.44482 62.4159 3.99606 59.9875 1.65929 57.456C1.00765 56.7496 0.742917 55.6772 0.320365 54.7646C-0.641832 52.7023 0.783645 51.1349 1.70002 49.7274C4.58661 45.3036 7.77357 41.081 10.7925 36.7397C12.0195 34.9764 13.1089 33.1203 14.3715 31.125H14.3766Z" fill="#9AACB8" fillOpacity="0.3" />
        </svg>
        <svg className="third-rune" width="39" height="70" viewBox="0 0 39 70" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M-2.9649 11.8981C-0.450688 12.3743 1.21562 14.071 3.07522 15.4201C4.58332 16.5138 5.92816 17.8279 7.40358 18.9699C8.98677 20.1918 10.6303 21.335 12.2601 22.4934C12.6156 22.7479 13.0308 22.9196 13.5607 23.2076C13.651 22.7833 13.8035 22.4854 13.7602 22.2169C13.0742 17.9608 12.3194 13.718 11.6787 9.45746C11.4031 7.6353 10.871 5.83319 11.2501 3.9226C11.3884 3.22469 11.0036 2.42624 10.8594 1.67791C11.5037 0.773398 12.3966 0.395743 13.458 0.631656C14.3524 0.828452 15.2743 0.579456 16.1425 1.38121C17.2453 2.39787 18.837 2.77073 19.817 4.10891C20.8203 5.48038 21.1579 6.77458 20.6061 8.4206C20.226 9.56365 19.9656 10.8263 20.0145 12.0167C20.1377 15.0303 21.2601 17.8472 22.1487 20.7804C22.5163 19.7908 22.9065 18.8094 23.2419 17.805C24.5364 13.935 26.6036 10.4363 28.7654 7.03673C29.7221 5.53082 31.3965 4.39421 32.9311 3.36006C34.7248 2.1459 37.8307 4.12317 38.2754 6.49589C38.5923 8.20522 38.3342 9.58906 37.0966 10.9226C35.793 12.3275 34.5468 13.8557 33.6165 15.5201C32.6829 17.1894 32.1455 19.0843 31.4882 20.9017C30.1809 24.5309 28.9502 28.1873 27.6026 31.8032C26.855 33.8058 27.1038 35.8807 26.9178 37.9219C26.8759 38.3579 26.955 38.9426 26.7066 39.2002C25.5172 40.4573 25.8776 41.8478 26.3054 43.1959C26.9845 45.3472 27.825 47.4423 28.5195 49.5865C29.0709 51.2926 29.4958 53.0398 30.0002 54.7633C30.7058 57.1613 31.5225 59.5252 32.1278 61.9467C32.5287 63.5475 32.8386 65.2205 32.8277 66.8629C32.8151 69.1937 31.0256 70.0379 28.8997 68.9625C26.3927 67.6963 24.8225 65.6705 24.0708 63.034C23.3145 60.3731 22.7574 57.6571 22.0245 54.9875C20.8306 50.6447 19.8449 46.2493 18.1715 42.0325C17.2502 39.7139 16.8761 37.185 16.1875 34.7669C15.9832 34.0554 15.6708 33.3059 15.2059 32.7452C11.8946 28.7435 8.06835 25.2941 3.78251 22.357C2.14283 21.234 0.830759 19.6326 -1.14712 18.9986C-1.36169 18.9309 -1.56277 18.6718 -1.68008 18.4552C-2.64873 16.6534 -4.18715 15.1627 -4.48156 13.0253C-3.99635 12.6675 -3.51192 12.3056 -2.9649 11.8981ZM35.6732 6.91355C35.7583 6.76708 35.8635 6.63773 35.9099 6.48615C35.9231 6.44585 35.685 6.27778 35.663 6.2946C35.5362 6.39876 35.4373 6.53947 35.3281 6.66961C35.4206 6.73569 35.5179 6.80503 35.6732 6.91355Z" fill="#9AACB8" fillOpacity="0.3" />
        </svg>
        <ImageWrapper minHeight={image.mediaDetails.height}>
          <ImageBox>
            <Image
              className="image"
              src={image.mediaItemUrl}
              alt={image.altText}
              width={image.mediaDetails.width}
              height={image.mediaDetails.height}
            />
          </ImageBox>
        </ImageWrapper>
        <Content>
          <h2>{title}</h2>
          <h3 className="big-text">{firstTitle}</h3>
          <div className="text">
            {HTMLReactParser(firstText)}
          </div>
          <h3 className="big-text">{secondTitle}</h3>
          <div className="text">
            {HTMLReactParser(secondText)}
          </div>
        </Content>
      </div>
    </Wrapper>
  )
}

const Wrapper = styled.section`
  margin-top: clamp(70px, ${85 / 768 * 100}vw, 250px);
  overflow: hidden;
  padding-bottom: 150px;
  margin-bottom: -150px;

  @media (max-width: 864px) {
    padding-bottom: 0;
    padding-top: calc(clamp(70px, ${85 / 768 * 100}vw, 250px) + 150px);
    margin-top: -150px;
    margin-bottom: calc(-1 * clamp(70px, ${100 / 864 * 100}vw, 100px) - clamp(80px,13.88888888888889vw,200px)) ;
  }

  .first-rune{
    position: absolute;
    left: 20px;
    bottom: -150px;

    @media (max-width: 864px){
      bottom: unset;
      top: -100px;
      left: 60px;
    }

    @media (max-width: 640px) {
      display: none;
    }
  }

  .second-rune{
    position: absolute;
    left: 70px;
    bottom: -90px;

    @media (max-width: 864px){
      bottom: unset;
      top: -200px;
      left: 80px;
    }

    @media (max-width: 640px) {
      display: none;
    }
  }

  .third-rune{
    position: absolute;
    top: 10px;
    right: 40px;

    @media (max-width: 864px){
      bottom: unset;
      top: 55%;
      right: -10px;
    }

    @media (max-width: 640px) {
      display: none;
    }
  }

  .container{
    display: grid;
    grid-template-columns: 1fr 608px;
    gap: 80px;
    align-items: center;
    position: relative;

    @media (max-width: 1240px) {
        gap: 0;
    }

    @media (max-width: 864px){
      display: flex;
      flex-direction: column-reverse;
    }
  }
`

const ImageWrapper = styled.div`
  position: relative;
  height: 100%;
  min-height: ${props => props.minHeight}px;

  @media (max-width: 864px){
    min-height: unset;
    width: 100%;
  }
`

const Content = styled.div`
  .text{
    display: grid;
    grid-gap: 30px;
  }

  h3{
    margin-top: 45px;
    margin-bottom: 15px;
  }
`

const ImageBox = styled.div`
  position: absolute;
  right:   0;
  top: 50%;
  transform: translateY(-50%);

  @media (max-width: 1240px) {
    right: -100px;
    z-index: -1;
  }
  @media (max-width: 1024px) {
    right: -200px;
  }
  @media (max-width: 864px){
    position: relative;
    left: unset;
    top: unset;
    transform: unset;

    height: fit-content;
    left: 50%;
    transform: translateX(-50%);
    min-width: 520px;

    max-width: 768px;
    width: 100%;
  }

  img{
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    max-width: 100%;
    height: fit-content;

  }

  &::after{
    content: '';
    inset: -2px;
    position: absolute;
    background: radial-gradient(50% 50% at 50% 50%, rgba(10, 10, 10, 0) 20.77%, #0A0A0A 100%);;
  }
`